{% extends 'base.html' %}
{% block title %}Cadastrar eventos{% endblock %}
{% block content %}
<div class="container">
    <h1>Cadastrar eventos</h1>
    <hr>

    <form action="" method="POST">
        <div class="row">

            <!-- nome do evento -->
            <div class="col-12 col-md-9 col-lg-4 mb-3">
                <label class="form-label">Nome do evento:</label>
                <input type="text" class="form-control" name="evento" required>
            </div>

            <!-- idade mínima -->
            <div class="col-12 col-md-3 col-lg-2 mb-3">
                <label class="form-label">Idade mínima:</label>
                <input type="number" class="form-control" name="idade" min="0">
            </div>

            <!-- data -->
            <div class="col-12 col-md-6 col-lg-3 mb-3">
                <label class="form-label">Data do evento:</label>
                <input type="date" class="form-control" name="data" required>
            </div>

            <!-- hora -->
            <div class="col-12 col-md-6 col-lg-3 mb-3">
                <label class="form-label">Hora do evento:</label>
                <input type="time" class="form-control" name="hora">
            </div>

            <!-- CEP -->
            <div class="col-12 col-md-4 col-lg-3 mb-3">
                <label class="form-label">CEP:</label>
                <input
                    type="text"
                    class="form-control"
                    name="cep"
                    id="cep"
                    maxlength="10"
                    placeholder="72.145-610"
                    required
                >
            </div>

            <!-- UF -->
            <div class="col-12 col-md-4 col-lg-3 mb-3">
                <label class="form-label">UF:</label>
                <select class="form-select" name="uf" required>
                    <option value="">Selecione</option>
                    <option value="AC">Acre</option>
                    <option value="AL">Alagoas</option>
                    <option value="AP">Amapá</option>
                    <option value="AM">Amazonas</option>
                    <option value="BA">Bahia</option>
                    <option value="CE">Ceará</option>
                    <option value="DF">Distrito Federal</option>
                    <option value="ES">Espírito Santo</option>
                    <option value="GO">Goiás</option>
                    <option value="MA">Maranhão</option>
                    <option value="MT">Mato Grosso</option>
                    <option value="MS">Mato Grosso do Sul</option>
                    <option value="MG">Minas Gerais</option>
                    <option value="PA">Pará</option>
                    <option value="PB">Paraíba</option>
                    <option value="PR">Paraná</option>
                    <option value="PE">Pernambuco</option>
                    <option value="PI">Piauí</option>
                    <option value="RJ">Rio de Janeiro</option>
                    <option value="RN">Rio Grande do Norte</option>
                    <option value="RS">Rio Grande do Sul</option>
                    <option value="RO">Rondônia</option>
                    <option value="RR">Roraima</option>
                    <option value="SC">Santa Catarina</option>
                    <option value="SP">São Paulo</option>
                    <option value="SE">Sergipe</option>
                    <option value="TO">Tocantins</option>
                </select>
            </div>

            <!-- cidade -->
            <div class="col-12 col-md-4 col-lg-6 mb-3">
                <label class="form-label">Cidade:</label>
                <input type="text" class="form-control" name="cidade" required>
            </div>

            <!-- local -->
            <div class="col-12 mb-3">
                <label class="form-label">Local:</label>
                <input type="text" class="form-control" name="local" required>
            </div>

            <!-- botão -->
            <div class="d-flex justify-content-center mt-5 mb-5">
                <button type="submit" class="btn btn-primary">
                    Cadastrar evento
                </button>
            </div>

        </div>
    </form>
</div>

<!-- SCRIPT DA MÁSCARA DE CEP -->
<script>
document.addEventListener("DOMContentLoaded", function () {
    const cepInput = document.getElementById("cep");

    cepInput.addEventListener("input", function (e) {
        let v = e.target.value.replace(/\D/g, "");

        if (v.length > 8) v = v.slice(0, 8);

        if (v.length > 5) {
            v = v.replace(/(\d{2})(\d{3})(\d{3})/, "$1.$2-$3");
        } else if (v.length > 2) {
            v = v.replace(/(\d{2})(\d{1,3})/, "$1.$2");
        }

        e.target.value = v;
    });
});
</script>
{% endblock %}
